---
title: "SVM"
author: "Eric"
date: "8 février 2019"
output:
  revealjs::revealjs_presentation:
    center: yes
    highlight: kate
    theme: league
    transition: fade
  ioslides_presentation:
    highlight: kate

---

```{r, echo = FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
```

```{r, message= 'hide'}
library("revealjs")
#library("caret")
library("e1071")
#library ("ggvis")
library("ggplot2")
library("GGally")
library("RColorBrewer")
library("e1071")
```

```{r}
setwd(".")
donnee = read.table("./../data/placenta90.138.txt", header = T, dec = ".", sep = "\t")
```
***
But de l'étude:

On souhaite établir un modèle de prédiction de la clairance à partir de descripteurs géométrique et physico-chimiques de petits composés. Nous allons utiliser la méthode SVM pour répondre à la question.

##Jeu de données

Résumé des données
```{r, eval}
par(mfrow = c(1,2))
head(donnee)
```

***
Visualisation des données grâce à une remise à l'échelle des donnée.(MDS)
```{r, fig.align = "center"}
donnee.cmd = cmdscale(dist(donnee [,-1]))
plot(donnee.cmd, col = donnee$Noms)
```

***
Visualisation des données grâce à une analyse des principaux composants
```{r, fig.align = "center", messages = 'hide'}
par(mfrow = c(1,2))
donnee.acp <- prcomp(as.matrix(donnee[,-1]))
plot(donnee.acp)
biplot(donnee.acp)
```

***
Toutes les variables sont corrélées entre elles


***
Visualisation globale des données
```{r, message = F, eval = F}
#par(mfrow=c(1,1))
#GGally::ggpairs(donnee, mapping = aes(color = Noms), cardinality_threshold = 90)
```

***
Création d'un modèle d'apprentissage
```{r}
set.seed(1000)
ech.App = sample(1:dim(donnee)[1],2*dim(donnee)[1]/3)
mat.App = donnee[ech.App,]

#plot (model.app, data = donnee.cmd, donnee.cmd[1]~donnee.cmd[2])
```

***
Création d'un modèle de test
```{r}
ech.Test = setdiff(1:nrow(donnee),ech.App)
mat.Test = donnee[ech.Test,]
```

***
```{r}
#model.app = svm(CI~., data = mat.App, kernel = "polynomial", cost = 1, scale =F)
```


